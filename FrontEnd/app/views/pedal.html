<section class="container">
    <h2>Create your pedal</h2>
    <div id="side-bar">
        <ul>
            <li>
                <button id="addGainFilter" ng-click="pedal.pedal.addFilter('gain');">Add Gain Filter</button>
            </li>
            <li>
                <button id="addEqualizerFilter" ng-click="pedal.pedal.addFilter('biquad');">Add BiQuad</button>
            </li>
            <li>
                <button id="addwaveshaperFilter" ng-click="pedal.pedal.addFilter('waveShaper');">Add waveShaper</button>
            </li>
            <li>
                <button id="addDelayFilter" ng-click="pedal.pedal.addFilter('delay');">Add delay</button>
            </li>
            <li>
                <button id="visualiserFilter" ng-click="pedal.pedal.addFilter('visualiser');">Add egaliser visu</button>
            </li>
            <li>
                <button id="addDynamiccompressorFilter" ng-click="pedal.pedal.addFilter('dynamicCompressor');">
                    Add Dyn Compressor
                </button>
            </li>
            <li>
                <button id="addSStereopannerFilter" ng-click="pedal.pedal.addFilter('stereoPanner');">
                    Add Stereo Panner
                </button>
            </li>
        </ul>
    </div>

    <div id="containerPlumb">
        <div id="globalPlumb">
            <div class="container-fluid divPlumb" draggable ng-repeat="filter in pedal.pedal.filters" style="border-style:solid;border-color:black;border-width:3px">

                <h5>Filtre : {{filter.type}}</h5>

                <button id="removeFilter" ng-hide="filter.type==='node'" ng-click="pedal.pedal.removeFilter(filter);">Remove
                    Filter
                </button>

                <!-- Showing the div corresponding to the right filter -->
                <!--- All min max and default values of ranges corresponds to the min/max/default values of the web audio API

                <!-- The VIZU filter -->
                <canvas egaliser-visualizer ng-if="filter.type === 'visualiser'" analyser-node="filter.audioNode"
                        width="400"
                        height="100" id="whateverrr"
                        style="border-style: solid; border-width:thin;  border-color:lightslategray"></canvas>


                <!-- The VIZU filter -->
                <canvas signal-visualiser ng-if="filter.type === 'visualiser'" analyser-node="filter.audioNode"
                        width="400" height="100" id="whanteverrr"
                        style="border-style: solid; border-width:thin;  border-color:lightslategray"></canvas>


                <!-- The GAIN filter -->
                <filter-gain filter="filter" ng-if="filter.type === 'gain'"></filter-gain>
                <!-- The BIQUAD filter -->
                <filter-biquad filter="filter" ng-if="filter.type === 'biquad'"></filter-biquad>

                <!-- The waveshaper filter -->
                <filter-waveshaper filter="filter" ng-if="filter.type === 'waveShaper'"></filter-waveshaper>

                <!-- The delay filter -->
                <filter-delay filter="filter" ng-if="filter.type === 'delay'"></filter-delay>


                <!-- The compressor filter -->
                <filter-dynamiccompressor filter="filter"
                                          ng-if="filter.type === 'dynamicCompressor'"></filter-dynamiccompressor>

                <!-- The stereopanner filter -->
                <filter-stereopanner filter="filter" ng-if="filter.type === 'stereoPanner'"></filter-stereopanner>

                <div class="connector" connector> out</div>
                <div class="connector" connectable> in</div>

            </div>
        </div>
    </div>
</section>